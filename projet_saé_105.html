<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>TP_2_Partie_1 : Le_scrypt_python.</title>
  <style>
    :root{--bg:#0b1220;--card:#0f1724;--accent:#6ee7b7;--muted:#9aa7b3}
    body{font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin:0; background: linear-gradient(180deg, #052e16 0%, #021f0f 100%);
 color:#e6eef6}
 .wrap{
 max-width:900px;
 margin:48px auto;
 padding:28px;
 background: linear-gradient(
   180deg,
   #020617 0%,
   #000000 85%,
   rgba(255,255,255,0.02) 100%
 );
 border-radius:12px;
 box-shadow:0 8px 30px rgba(0,0,0,0.8);
}

    p.lead{margin:0 0 18px;color:var(--muted)}
    .card{background:var(--card);padding:18px;border-radius:10px}
    pre{margin:0;overflow:auto;border-radius:8px;background:#071126;padding:16px}
    code{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Helvetica Neue", monospace;font-size:14px;line-height:1.5;color:#dbeafe;display:block}
    .toolbar{display:flex;gap:8px;justify-content:flex-end;margin-bottom:10px}
    button{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:8px 10px;border-radius:8px;cursor:pointer}
    button:hover{border-color:rgba(255,255,255,0.12);color:var(--accent)}
    .meta{font-size:13px;color:var(--muted);margin-top:10px}
    .notice{margin-top:12px;padding:10px;border-radius:8px;background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));border:1px solid rgba(255,255,255,0.02);color:var(--muted)}
  </style>
</head>
<body>
  <main class="wrap">
    <h1>Le script Python</h1>
    <p class="lead">Dans ce TP nous étudirons les données d un fichier .CSV portant sur le thème du nucléaire.
      Ce code est celui qui sera utiliser durant notre SAE afin de determiner l’évolution de la production d’électricité nucléaire en France entre 1995 et aujourd’hui, et quels impacts cette évolution a-t-elle eus sur la disponibilité de l’électricité sur le réseau .</p>

    <section class="card">
      <div class="toolbar">
        <button id="copyBtn" title="Copier le code">Copier</button>
        <button id="downloadBtn" title="Télécharger le fichier .py">Télécharger (.py)</button>
      </div>

      <pre><code id="codeBlock"># Projet saé 105 !

      <pre><code class="language-python">
        <pre><code class="language-python">
# -*- coding: utf-8 -*-
"""
Created on Tue Jan  6 09:49:40 2026

@author: phili
"""


import csv
import matplotlib.pyplot as plt
from datetime import datetime

evo = []
with open("évolutionnuke.csv", newline= '') as csvfile :
    reader=csv.reader(csvfile,delimiter=';')
    for row in reader:
        evo.append(row)
del(evo[0])
#print(evo)

#Import du fichier de production d'énergie 

dates = []
g = 0.01
h = 0
for i in range(len(evo)):
    if(str(1995+h) in evo[i][0]):
        dates.append(1995+h+g)
        g+=0.01
    else : 
        h+=1
        g=0.01
        dates.append(1995+h+g)
        g+=0.01
#print(dates)

#Ici, nous avons du retirer les tirets. De ce fait, nous les avons donc 
#remplacés par des points sous la forme annee.mois

valprod = []
prod = []
res = []
for i in range(len(evo)):
    valprod.append(evo[i][2])
    prod = [j.replace(',','.')for j in valprod]
    res.append(float(prod[i]))
#print(res)

#Ici, nous avons donc appliqué les valeurs en TWh où nous avons aussi retiré la virgule
#pour y attribuer un point à la place pour permettre la conversion str -> float


dispon = []
with open("disponuke.csv", newline= '') as csvfile :
    reader=csv.reader(csvfile,delimiter=';')
    for row in reader:
        dispon.append(row)
del(dispon[0])
#print(dispo)

#Import du fichier de disponibilités

valdispo = []
dispo = []
res2 = []
val = 0
listej = []
for i in range(len(dispon)):
    valdispo.append(dispon[i][2])
    dispo = [j.replace(',','.')for j in valdispo if j.strip() != '']
for i in range(len(dispo)):
    res2.append(float(dispo[i]))
#print(res2)



moyennes = []   # liste des moyennes mensuelles
mois = []       

date_debut = datetime(2020, 1, 1)
date_fin = datetime(2025, 12, 1)

current = date_debut
while current <= date_fin:
    mois_str = current.strftime("%m/%Y")  # ex: "02/2020"

    listej = []
    val = 0

    for i in range(len(dispon)):
        if mois_str in dispon[i][0]:
            listej.append(i)

    for j in range(len(listej)):
        val += res2[listej[j]]

    if len(listej) > 0:
        val = val / len(listej)
    else:
        val = 0 

    moyennes.append(val)
    mois.append(mois_str)

# mois suivant
    if current.month == 12:
        current = datetime(current.year + 1, 1, 1)
    else:
        current = datetime(current.year, current.month + 1, 1)    

dates_2 = []
k = 0.01
l = 0
for i in range(len(mois)):
    if(str(2020+l) in mois[i]):
        dates_2.append(2020+k+l)
        k+=0.01
    else : 
        l+=1
        k=0.01
        dates_2.append(2020+k+l)
        k+=0.01

#tentative calcul moyenne par mois 

#Nous sommes en train de régler le soucis étant que nous avons des lignes vides
#car elles ne sont pas encore rescencées (comme la fin de l'année 2025)

ener = []
with open("prodenergie.csv", newline= '') as csvfile :
    reader=csv.reader(csvfile,delimiter=';')
    for row in reader:
        ener.append(row)
del(ener[0])
#print(ener)


valener = []
prod = []
res3 = []
for i in range(len(ener)):
    valener.append(ener[i][2])
    print(valener)
    prod = [j.replace(',','.')for j in valener if j.strip() != '']
for i in range(len(prod)):    
    res3.append(float(prod[i]))
#print(res3)

#ça fait crash spyder




plt.plot(dates_2,moyennes)
plt.xlabel("dates")
plt.ylabel('prod')
plt.grid()
plt.show()

#Puis, nous nous occupons d'afficher le tableau des valeurs énergétiques produites en
#fonction de la date (en mois / annees)
</code></pre>


    </section>
      <div class="meta">Langage : <strong>Python 3</strong> — Fichier : <strong>scrypt.py</strong></div>
      <div class="meta"><strong>Description de l' étude.</strong></div>
      <div class="notice">Astuce : pour exécuter ce script sur ta machine, sauvegarde-le en <code>scrypt.py</code> puis lance <code>python scrypt.py</code> dans un terminal (ou <code>python3</code> selon ta configuration).</div>
    </section>

    <p style="margin-top:18px;color:var(--muted);font-size:13px">MARESIA Enzo FATET Gaetan HOUNTONDJI Lionel.</p>
  </section>

  <script>
    const code = document.getElementById('codeBlock').innerText;
    document.getElementById('copyBtn').addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(code);
        alert('Code copié dans le presse-papiers');
      } catch (e) {
        alert('Impossible de copier : ' + e.message);
      }
    });

    document.getElementById('downloadBtn').addEventListener('click', () => {
      const blob = new Blob([code], {type: 'text/x-python'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'code_évolution_pop.py';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    });
  </script>
</body>
</html>



